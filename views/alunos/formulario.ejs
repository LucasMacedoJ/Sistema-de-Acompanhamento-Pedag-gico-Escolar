<%- include('../tela') %>

  <head>
    <link rel="stylesheet" href="/css/cadastroAlunos.css">
  </head>

  <body>
    <div class="container">
      <h1>Cadastro de Aluno</h1>

      <form action="/alunos/cadastrar" method="POST" enctype="multipart/form-data">

        <!-- Nome completo -->
        <div>
          <label for="nome">Nome completo:</label>
          <input type="text" name="nome" id="nome" required placeholder="Ex: Ana Beatriz da Silva">
        </div>

        <!-- Turma -->
        <div>
          <label for="turma">Turma:</label><br>
          <select name="turma" id="turma" required>
            <option value="" disabled selected>Selecione uma turma</option>
            <% turmas.forEach(function(turma) { %>
              <option value="<%= turma._id %>">
                <%= turma.nome %>
              </option>
              <% }) %>
          </select>
        </div>

        <!-- Data de nascimento -->
        <div>
          <label for="dataN">Data de Nascimento:</label>
          <input type="date" name="dataN" id="dataN" required>
        </div>

        <!-- üì∏ Foto -->
        <div>
          <label for="foto">Foto do Aluno:</label>
          <input type="file" name="foto" id="foto" accept="image/*">
        </div>

        <!-- üß† Necessidade Especial -->
<<<<<<< HEAD
        <div class="form-group">
          <label for="necessidadeE">Necessidades Especiais:</label>
          <select id="necessidadeE" name="necessidadeE">
=======
        <div>
          <label for="necessidadeE">Necessidades Especiais:</label><br>
          <select name="necessidadeE" id="necessidadeE">
>>>>>>> 10dbe486d8b4a2f107df6e77fdb9eeaf542a8c02
            <option value="Nenhuma">Nenhuma</option>
            <option value="TDAH">TDAH</option>
            <option value="Dislexia">Dislexia</option>
            <option value="Autismo">Autismo (TEA)</option>
            <option value="Defici√™ncia Auditiva">Defici√™ncia Auditiva</option>
            <option value="Defici√™ncia Visual">Defici√™ncia Visual</option>
            <option value="Outro">Outro</option>
          </select>

          <input type="text" id="outroNecessidade" name="outroNecessidade" placeholder="Descreva a necessidade"
            style="display:none;">
        </div>

        <!-- ‚ù§Ô∏è Problema de Sa√∫de -->
        <div>
          <label for="problemaSaude">Problema de Sa√∫de:</label><br>
          <select name="problemaSaude" id="problemaSaude">
            <option value="Nenhum">Nenhum</option>
            <option value="Asma">Asma</option>
            <option value="Epilepsia">Epilepsia</option>
            <option value="Diabetes">Diabetes</option>
            <option value="Alergia">Alergia</option>
            <option value="Outro">Outro</option>
          </select>

          <input type="text" name="problemaSaudeOutro" id="problemaSaudeOutro"
            placeholder="Descreva o problema de sa√∫de" style="display:none;">
        </div>

        <!-- ‚öôÔ∏è Dificuldade Disciplinar -->
        <div>
          <label for="disciplinaD">Dificuldade / Problema Disciplinar:</label><br>
          <select name="disciplinaD" id="disciplinaD">
            <option value="Nenhuma">Nenhuma</option>
            <option value="Falta de aten√ß√£o">Falta de aten√ß√£o</option>
            <option value="Agressividade">Agressividade</option>
            <option value="Desinteresse">Desinteresse</option>
            <option value="Dificuldade de concentra√ß√£o">Dificuldade de concentra√ß√£o</option>
            <option value="Outro">Outro</option>
          </select>

          <input type="text" name="disciplinaDOutro" id="disciplinaDOutro" placeholder="Descreva o problema disciplinar"
            style="display:none;">
        </div>

        <!-- Transfer√™ncia -->
        <div>
          <label for="transferenciaOnde">Transfer√™ncia de onde:</label>
          <input type="text" name="transferenciaOnde" id="transferenciaOnde" placeholder="Nome da escola anterior">
        </div>

        <div>
          <label for="transferenciaD">Descri√ß√£o da transfer√™ncia:</label>
          <input type="text" name="transferenciaD" id="transferenciaD" placeholder="Motivo ou detalhes">
        </div>

        <!-- Respons√°vel -->
        <div>
          <label for="responsavelNome">Nome do Respons√°vel:</label>
          <input type="text" name="responsavelNome" id="responsavelNome" required>
        </div>

        <div>
          <label for="responsavelContato">Contato do Respons√°vel:</label>
          <input type="text" name="responsavelContato" id="responsavelContato" required>
        </div>

        <!-- Segundo Professor -->
        <div>
          <label for="segundoProfessor">Segundo Professor:</label>
          <input type="checkbox" name="segundoProfessor" id="segundoProfessor">
        </div>

        <div>
          <label for="segundoProfessorNome">Nome do Segundo Professor:</label>
          <input type="text" name="segundoProfessorNome" id="segundoProfessorNome" placeholder="Se houver">
        </div>

        <!-- Observa√ß√£o -->
        <div>
          <label for="observacao">Observa√ß√£o:</label><br>
          <textarea class="ctexto" name="observacao" id="observacao" rows="4" cols="50"
            placeholder="Digite observa√ß√µes adicionais"></textarea>
        </div>

        <!-- Bot√µes -->
        <div class="botoes">
          <button type="submit">Cadastrar</button>
          <a class="btn" href="/alunos/">Voltar para a lista de alunos</a>
        </div>
      </form>
    </div>

    <script src="https://unpkg.com/vanilla-masker/build/vanilla-masker.min.js"></script>
    <script>
      // M√°scara de telefone
      const telInput = document.getElementById('responsavelContato');
      if (telInput) {
        telInput.addEventListener('input', function () {
          VMasker(telInput).maskPattern('(99) 99999-9999');
        });
      }

      // Mostrar campos "Outro"
      function toggleOutro(selectId, inputId) {
        const select = document.getElementById(selectId);
        const input = document.getElementById(inputId);
        select.addEventListener('change', function () {
          input.style.display = this.value === 'Outro' ? 'block' : 'none';
        });
      }

      toggleOutro('necessidadeE', 'outroNecessidade');
      toggleOutro('problemaSaude', 'problemaSaudeOutro');
      toggleOutro('disciplinaD', 'disciplinaDOutro');
    </script>
  </body>