<link rel="stylesheet" href="/css/navbar.css">

<nav id="navbar">
  <h2>SAPE</h2>

  <ul>
    <li><a href="/alunos/">Alunos</a></li>
    <li><a href="/turmas/lista">Turmas</a></li>

    <% if (typeof usuario !=='undefined' && usuario && usuario.perfil==='admin' ) { %>
      <li><a href="/usuario/lista">Usuários</a></li>
      <% } %>
  </ul>

  <% if (typeof usuario !=='undefined' && usuario) { %>
    <% // uso direto de campos já normalizados pela middleware (app.js) // fallback para avatar -> foto -> imagem padrão
      const fotoPath = usuario.avatar || usuario.foto || '/imagens/padrao.png';
      %>

      <a href="/usuario/perfil"
        style="display:flex; align-items:center; text-decoration:none; color:inherit; position:absolute; right:40px;">
        <img src="<%= fotoPath %>" alt="Foto do usuário"
          style="width:40px; height:40px; border-radius:50%; object-fit:cover;">
      </a>

      <% } else { %>
        <a href="/login" style="position:absolute; right:40px;">Entrar</a>
        <% } %>
</nav>